Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (1.7ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "license" integer, "membership_commenced_on" date, "activated_at" datetime, "is_current" boolean, "commission_rate" decimal, "bio" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "second_advisor_id" integer, "address" varchar(255), "enabled" boolean) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "organisations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "organisations_users" ("user_id" integer NOT NULL, "organisation_id" integer NOT NULL) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "agency" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "agency_advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "agency_id" integer, "advisor_id" integer) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "first_name" varchar(255)) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "channel_splits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "channel_id" integer, "user_id" integer, "ownership_percent" decimal(6,3), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "license" integer, "membership_commenced_on" date, "activated_at" datetime, "is_current" boolean, "commission_rate" decimal, "bio" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "second_advisor_id" integer, "address" varchar(255), "enabled" boolean) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "organisations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "organisations_users" ("user_id" integer NOT NULL, "organisation_id" integer NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "agency" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "agency_advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "agency_id" integer, "advisor_id" integer) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "first_name" varchar(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "channel_splits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "channel_id" integer, "user_id" integer, "ownership_percent" decimal(6,3), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "license" integer, "membership_commenced_on" date, "activated_at" datetime, "is_current" boolean, "commission_rate" decimal, "bio" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "second_advisor_id" integer, "address" varchar(255), "enabled" boolean) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "organisations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "organisations_users" ("user_id" integer NOT NULL, "organisation_id" integer NOT NULL) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "agency" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "agency_advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "agency_id" integer, "advisor_id" integer) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "first_name" varchar(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "channel_splits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "channel_id" integer, "user_id" integer, "ownership_percent" decimal(6,3), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "license" integer, "membership_commenced_on" date, "activated_at" datetime, "is_current" boolean, "commission_rate" decimal, "bio" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "second_advisor_id" integer, "address" varchar(255), "enabled" boolean) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "organisations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "organisations_users" ("user_id" integer NOT NULL, "organisation_id" integer NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "agency" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "agency_advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "agency_id" integer, "advisor_id" integer) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "first_name" varchar(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "channel_splits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "channel_id" integer, "user_id" integer, "ownership_percent" decimal(6,3), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.8ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "agency";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (3.0ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (2.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (2.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (2.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (46.7ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "emails";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "people";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
Connecting to database specified by database.yml
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "license" integer, "membership_commenced_on" date, "activated_at" datetime, "is_current" boolean, "commission_rate" decimal, "bio" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "emails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "second_advisor_id" integer, "address" varchar(255), "enabled" boolean) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "organisations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "organisations_users" ("user_id" integer NOT NULL, "organisation_id" integer NOT NULL) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "agency" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "agency_advisors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "agency_id" integer, "advisor_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "first_name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "channel_splits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "advisor_id" integer, "channel_id" integer, "user_id" integer, "ownership_percent" decimal(6,3), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (0.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "people";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "agency";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "emails";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'emails';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organisations_users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organisations_users';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "agency";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "agency_advisors";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'agency_advisors';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "people";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'people';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "channel_splits";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'channel_splits';[0m
Connecting to database specified by database.yml
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (21.4ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (3.3ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.8ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_value" ON "fields_attributes" ("value")
SQLite3::SQLException: table fields_attributes has no column named value: CREATE  INDEX "index_fields_attributes_on_value" ON "fields_attributes" ("value")
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "user_field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_user_field_id" ON "fields_select_options" ("user_field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (27.8ms)[0m  commit transaction
Migrating to AddDbConstraintsToFields (2)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "user_field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_user_field_id" ON "fields_select_options" ("user_field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (1.9ms)[0m  commit transaction
Migrating to AddDbConstraintsToFields (2)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "user_field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_user_field_id" ON "fields_select_options" ("user_field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (217.2ms)[0m  commit transaction
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (231.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.3ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (227.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (257.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (233.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (266.7ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "users";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (255.8ms)[0m  DELETE FROM "fields";
  [1m[36m (0.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (3.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (20.1ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:17 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:17 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (262.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (3.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (3.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (251.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (3.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:18 UTC +00:00]]
  [1m[35m (246.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (3.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.8ms)[0m  DELETE FROM "fields";
  [1m[36m (262.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (3.7ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.2ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[35m (237.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (248.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (3.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (4.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (237.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.3ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (3.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "fields";
  [1m[36m (2.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (4.0ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (3.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:19 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (3.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "fields";
  [1m[36m (3.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (3.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (3.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (3.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 3
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.8ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (3.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (3.0ms)[0m  DELETE FROM "fields";
  [1m[36m (3.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:55:20 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 1
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "user_field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_user_field_id" ON "fields_select_options" ("user_field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (3.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (2.4ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (2.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (3.3ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (3.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (4.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (3.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (3.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (3.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (3.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (3.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (3.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (3.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (3.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 07:56:19 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
SQLite3::SQLException: no such column: fields_select_options.field_id: SELECT "fields_select_options".* FROM "fields_select_options"  WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (3.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "fields";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (3.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (3.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (21.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (2.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (19.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: name, email
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.1ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (2.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2[0m
  [1m[35m (1.9ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:12:44", updated_at: "2012-07-04 08:12:44">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:12:44 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.3ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (24.1ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (1.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (34.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:46 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: name, email
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (2.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (2.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2[0m
  [1m[35m (2.5ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 08:56:47", updated_at: "2012-07-04 08:56:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 08:56:47 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.3ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (17.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (20.5ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (2.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:31 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: name, email
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:02:32", updated_at: "2012-07-04 09:02:32">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (2.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:02:32 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (21.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "users";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "fields";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (2.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: name, email
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", nil], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: name, organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", nil], ["organization_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:03:09", updated_at: "2012-07-04 09:03:09">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:03:09 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (2.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (2.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "organization_id" integer) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.3ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (19.3ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.8ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (10.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (2.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: email
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[35mFieldAttribute Load (0.2ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:47 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "organization_id") VALUES (?, ?)  [["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:47", updated_at: "2012-07-04 09:04:47">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "organization_id") VALUES (?, ?)[0m  [["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:04:48", updated_at: "2012-07-04 09:04:48">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:04:48 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.1ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
WARNING: Can't mass-assign protected attributes: email
  [1m[35m (0.0ms)[0m  commit transaction
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:28 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:28", updated_at: "2012-07-04 09:05:28">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:28", updated_at: "2012-07-04 09:05:28">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (3.0ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.2ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (40.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (9.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:29", updated_at: "2012-07-04 09:05:29">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:29 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (28.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (19.5ms)[0m  UPDATE "users" SET "email" = 'mikel@example.org' WHERE "users"."id" = 1
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.3ms)[0m  DELETE FROM "users";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:05:58", updated_at: "2012-07-04 09:05:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:05:58 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.4ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.9ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:20 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "email" = 'mikel@example.org' WHERE "users"."id" = 1
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "users";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:07:21", updated_at: "2012-07-04 09:07:21">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:07:21 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (2.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (1.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.8ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (21.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.3ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (2.1ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.7ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (12.0ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "email" = 'mikel@example.org' WHERE "users"."id" = 1
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.9ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (3.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:00 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:00", updated_at: "2012-07-04 09:11:00">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (2.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[35mFieldAttribute Load (0.2ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.2ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (2.4ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.0ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:01", updated_at: "2012-07-04 09:11:01">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (2.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:01 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.9ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.7ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.7ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.8ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "users" SET "email" = 'mikel@example.org' WHERE "users"."id" = 1
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.3ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (2.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "fields";
  [1m[36m (1.7ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (2.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["user_id", 1]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (2.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.8ms)[0m  DELETE FROM "users";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.4ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["user_id", 1]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:24", updated_at: "2012-07-04 09:11:24">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:24 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.9ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.1ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
Connecting to database specified by database.yml
OPTIONS: {:scopes=>[:organization], :fields_class_name=>"UserField", :fields_table_name=>"fields", :fields_relationship_name=>:user_field, :values_class_name=>"UserAttribute", :values_table_name=>"fields_attributes", :relationship_name=>:user_attributes, :select_options_class_name=>"UserFieldSelectOption", :select_options_table_name=>"fields_select_options", :select_options_relationship_name=>:user_field_select_options, :foreign_key=>"user_id", :base_foreign_key=>"user_id", :name_field=>"name", :value_field=>"value", :parent=>"User"}
  [1m[36m (0.9ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "organization_id" integer) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateFieldsForUser (1)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "fields" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(63) NOT NULL, "style" varchar(15) NOT NULL, "organization_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_fields_on_organization_id_and_name" ON "fields" ("organization_id", "name")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_attributes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "field_id" integer NOT NULL, "string_value" varchar(255), "boolean_value" boolean, "date_value" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_fields_attributes_on_user_id_and_field_id" ON "fields_attributes" ("user_id", "field_id")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_user_id" ON "fields_attributes" ("user_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_field_id" ON "fields_attributes" ("field_id")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("fields_attributes")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_string_value" ON "fields_attributes" ("string_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_string_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_field_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_attributes_on_boolean_value" ON "fields_attributes" ("boolean_value")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_attributes")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_boolean_value')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_string_value')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_field_id')
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_fields_attributes_on_user_id')[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_fields_attributes_on_user_id_and_field_id')
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_fields_attributes_on_date_value" ON "fields_attributes" ("date_value")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "fields_select_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "option" varchar(63) NOT NULL, "field_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("fields_select_options")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_fields_select_options_on_field_id" ON "fields_select_options" ("field_id")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (2.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.1ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (2.8ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.4ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: High Potential
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'High Potential' AND "fields"."organization_id" = 1 LIMIT 1[0m
  [1m[35m (1.7ms)[0m  DELETE FROM "users";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields" [0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields" 
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.8ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36m (2.5ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.2ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (11.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mField Load (0.3ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."organization_id" = 1 ORDER BY id
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3 LIMIT 1[0m
  [1m[35m (21.5ms)[0m  DELETE FROM "users";
  [1m[36m (0.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "organizations";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.1ms)[0m  DELETE FROM "fields";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (0.9ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:57 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:57", updated_at: "2012-07-04 09:11:57">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "users" SET "email" = 'mikel@example.org' WHERE "users"."id" = 1[0m
  [1m[35m (2.7ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:57", updated_at: "2012-07-04 09:11:57">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  DELETE FROM "users";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "organizations";
  [1m[36m (2.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.6ms)[0m  DELETE FROM "fields";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (1.3ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (1.5ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (3.0ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.2ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.2ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["user_id", 1]]
  [1m[35mFieldAttribute Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["user_id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.3ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.2ms)[0m  DELETE FROM "users";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields";
  [1m[36m (1.5ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.2ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (1.2ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.2ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Exists (0.1ms)[0m  SELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Load (0.2ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1[0m
  [1m[35mFieldSelectOption Load (0.1ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mFieldSelectOption Load (0.2ms)[0m  SELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
WARNING: Can't mass-assign protected attributes: organization
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)[0m  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (0.0ms)[0m  begin transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.2ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.9ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (0.9ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.5ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (1.6ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.4ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.4ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.1ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (2.0ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "organizations" ("name") VALUES (?)  [["name", "ABC Corp"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Value' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Value"], ["organization_id", 1], ["style", "text"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mField Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields" WHERE ("fields"."name" = 'Customer' AND "fields"."organization_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Customer"], ["organization_id", 1], ["style", "checkbox"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 3 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 3], ["option", "CatC"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
WARNING: Can't mass-assign protected attributes: organization
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "organization_id") VALUES (?, ?, ?)  [["email", nil], ["name", "Mikel"], ["organization_id", nil]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
attribute_name(Value) value("10000") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1[0m
attribute_name(Customer) value("1") scope(organization) scope_id(1)
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1
  [1m[36mFieldAttribute Exists (0.0ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", nil], ["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["date_value", nil], ["field_id", 1], ["string_value", "10000"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["user_id", 1]]
  [1m[36mFieldAttribute Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "fields_attributes" WHERE ("fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "fields_attributes" ("boolean_value", "created_at", "date_value", "field_id", "string_value", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?)  [["boolean_value", true], ["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["date_value", nil], ["field_id", 2], ["string_value", nil], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "fields_attributes" 
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 1
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "fields_attributes" WHERE "fields_attributes"."id" = 2[0m
  [1m[35m (2.8ms)[0m  commit transaction
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Customer
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Customer' AND "fields"."organization_id" = 1 LIMIT 1[0m
field: #<Field id: 2, name: "Customer", style: "checkbox", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[35mFieldAttribute Load (0.1ms)[0m  SELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 2 LIMIT 1
  [1m[36mField Load (0.1ms)[0m  [1mSELECT "fields".* FROM "fields" WHERE "fields"."id" = 2 LIMIT 1[0m
scope/id is: organization/1
fkey is: field_id
fields class: Field
values class: FieldAttribute
scope is: organization
scope_id is: 1
attribute_name is: Value
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."name" = 'Value' AND "fields"."organization_id" = 1 LIMIT 1
field: #<Field id: 1, name: "Value", style: "text", organization_id: 1, created_at: "2012-07-04 09:11:58", updated_at: "2012-07-04 09:11:58">
  [1m[36mFieldAttribute Load (0.1ms)[0m  [1mSELECT "fields_attributes".* FROM "fields_attributes" WHERE "fields_attributes"."user_id" = 1 AND "fields_attributes"."field_id" = 1 LIMIT 1[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "fields_attributes" [0m
  [1m[35m (1.6ms)[0m  DELETE FROM "users";
  [1m[36m (1.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (0.9ms)[0m  DELETE FROM "organizations";
  [1m[36m (1.0ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'organizations';[0m
  [1m[35m (25.5ms)[0m  DELETE FROM "fields";
  [1m[36m (2.3ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields';[0m
  [1m[35m (2.8ms)[0m  DELETE FROM "fields_attributes";
  [1m[36m (2.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_attributes';[0m
  [1m[35m (2.0ms)[0m  DELETE FROM "fields_select_options";
  [1m[36m (1.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'fields_select_options';[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "organizations" ("name") VALUES (?)[0m  [["name", "ABC Corp"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "fields" ("created_at", "name", "organization_id", "style", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["name", "Category"], ["organization_id", 1], ["style", "select"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFieldSelectOption Load (0.2ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 1], ["option", "CatA"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "fields_select_options" ("created_at", "field_id", "option", "updated_at") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00], ["field_id", 1], ["option", "CatB"], ["updated_at", Wed, 04 Jul 2012 09:11:58 UTC +00:00]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mField Load (0.1ms)[0m  SELECT "fields".* FROM "fields" WHERE "fields"."id" = 1 LIMIT 1
  [1m[36mFieldSelectOption Load (0.1ms)[0m  [1mSELECT "fields_select_options".* FROM "fields_select_options" WHERE "fields_select_options"."field_id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (1.7ms)[0m  [1mDELETE FROM "users";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'users';
  [1m[36m (1.5ms)[0m  [1mDELETE FROM "organizations";[0m
  [1m[35m (1.6ms)[0m  DELETE FROM sqlite_sequence where name = 'organizations';
  [1m[36m (2.4ms)[0m  [1mDELETE FROM "fields";[0m
  [1m[35m (1.8ms)[0m  DELETE FROM sqlite_sequence where name = 'fields';
  [1m[36m (1.3ms)[0m  [1mDELETE FROM "fields_attributes";[0m
  [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_attributes';
  [1m[36m (1.0ms)[0m  [1mDELETE FROM "fields_select_options";[0m
  [1m[35m (1.3ms)[0m  DELETE FROM sqlite_sequence where name = 'fields_select_options';
